<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>
    <center>
        <h1>Welcome</h1>

        <form id="login-form">
            <label for="email">Email:</label><br>
            <input type="email" id="email" name="email" required><br><br>
            <label for="password">Password:</label><br>
            <input type="password" id="password" name="password" required><br><br>
            <button type="submit">Sign In</button>
        </form>
        <div id="message" style="color: red; margin-top: 20px;"></div>
    </center>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>

    <script>
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAIInOuFA0oMsv1dOn4h5-ZPg5fT8xs0k8",
            authDomain: "d-45-177f3.firebaseapp.com",
            projectId: "d-45-177f3",
            storageBucket: "d-45-177f3.appspot.com",
            messagingSenderId: "142681750542",
            appId: "1:142681750542:web:89340b9c374a2488b6505f"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        const loginForm = document.getElementById('login-form');
        const messageDiv = document.getElementById('message');

        loginForm.addEventListener('submit', function(event) {
            event.preventDefault();

            const email = loginForm.email.value;
            const password = loginForm.password.value;

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Redirect after successful login
                    window.location.href = "https://familyidfinder.github.io/familyid/ppp-find.html";
                })
                .catch((error) => {
                    messageDiv.innerText = "Error: " + error.message;
                    console.error("Login failed:", error.code, error.message);
                });
        });
    </script>
</body>
</html>
